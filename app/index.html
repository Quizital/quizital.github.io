<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QUIZITAL | App</title>
<meta name="description" content="The home page for Quizital; A modern, open source quiz app with over 20 categories that works on any device with features such as multiplayer and big screen mode and is powered by Themium's FrameworkV0. This is perfect for an alternative to big apps such as Outsmarted, Kahoot or Blooket as it works in your browser, for free and even has an iPhone app on https://alpe.optb.qzz.io!">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/themium/FrameworkV0@main/v0.css">
<style>
    body {
        margin: 0;
        font-family: Ubuntu, sans-serif;
        text-align: center;
    }

    h1 {
        font-size: 100px;
        margin: 350px 0 20px 0;
        animation: shrinkMove 2s ease forwards;
    }

    @keyframes shrinkMove {
        0% { font-size: 100px; margin-top: 350px; }
        100% { font-size: 50px; margin-top: 30px; }
    }

    .content {
        margin-top: 20px;
        opacity: 0;
        animation: fadeIn 1s ease forwards;
        animation-delay: 2s;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        padding: 0 20px;
    }

    @keyframes fadeIn { to { opacity: 1; } }

    body.no-anim h1 { font-size: 50px; margin: 30px 0 20px 0; animation: none; }
    body.no-anim .content { opacity: 1; animation: none; }

    .section {
        margin: 30px 0;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .section h3 {
        margin: 0 0 15px 0;
        font-size: 20px;
        color: rgb(0, 200, 255);
    }

    .btn {
        display: inline-block;
        background-color: rgb(28, 134, 204);
        color: white;
        text-decoration: none;
        padding: 12px 30px;
        border-radius: 6px;
        font-size: 18px;
        transition: background-color 0.3s ease;
        margin-top: 20px;
        cursor: pointer;
        border: none;
    }
    .btn:hover { background-color: rgb(0, 100, 220); }
    .btn:disabled { 
        background-color: #666; 
        cursor: not-allowed; 
    }

    .categories {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
    }

    .category {
        width: 160px;
        height: 140px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        background: #222;
        color: white;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        text-align: center;
        position: relative;
    }
    .category.selected {
        border: 3px solid rgb(0, 200, 255);
    }
    .category:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }

    .category img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute;
        top: 0; left: 0;
        z-index: 0;
        filter: brightness(0.7);
    }

    .category p {
        position: relative;
        z-index: 1;
        margin: 0;
        padding: 10px;
        font-size: 18px;
        font-weight: bold;
        background: rgba(0,0,0,0.4);
        border-top: 1px solid rgba(255,255,255,0.2);
    }

    .game-mode {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
    }

    .mode-option {
        padding: 15px 25px;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid transparent;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        min-width: 120px;
    }

    .mode-option.selected {
        border-color: rgb(0, 200, 255);
        background: rgba(0, 200, 255, 0.2);
    }

    .mode-option:hover {
        background: rgba(255, 255, 255, 0.15);
    }

    .input-group {
        margin: 15px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .input-group label {
        font-weight: bold;
        min-width: 120px;
        text-align: right;
    }

    .input-group input, .input-group select {
        padding: 8px 12px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 5px;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 16px;
        width: 200px;
    }

    .input-group input::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }

    .players-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
        align-items: center;
    }

    .player-input {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .player-input input {
        width: 180px;
    }

    .remove-player {
        background: #ff4757;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 14px;
    }

    .add-player {
        background: rgb(28, 134, 204);
        color: white;
        border: none;
        border-radius: 5px;
        padding: 8px 16px;
        cursor: pointer;
        margin-top: 10px;
    }

    .multiplayer-options {
        display: none;
    }

    .multiplayer-options.active {
        display: block;
    }

    @media (max-width: 768px) {
        .game-mode {
            flex-direction: column;
            align-items: center;
        }
        
        .input-group {
            flex-direction: column;
            gap: 5px;
        }
        
        .input-group label {
            text-align: center;
            min-width: auto;
        }
    }
</style>
</head>
<div id="header-container"></div><script>fetch('assets/html/header.html').then(r=>r.text()).then(d=>{document.getElementById('header-container').innerHTML=d;window.scrollTo(0,0);}).catch(e=>console.error('Error loading header:',e));</script>
<body class="tf_thm-darkbluee tf_f-ubuntu">
<h1 class="tf_fw-200">QUIZITAL</h1>

<div class="content">
    <p>TIP: Use FullView to view all categories (these aren't all of them!)</p>
    <div class="section">
        <h3>Select Categories</h3>
        <div class="categories">
            <div class="category">
                <quizital-metadata category-id="1"></quizital-metadata>
                <img src="assets//images/category-covers/tech.jpg" alt="Category Image">
                <p>Tech</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="2"></quizital-metadata>
                <img src="assets//images/category-covers/nature.jpg" alt="Category Image">
                <p>Nature</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="3"></quizital-metadata>
                <img src="assets//images/category-covers/space.png" alt="Category Image">
                <p>Space</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="12"></quizital-metadata>
                <img src="assets//images/category-covers/history.jpg" alt="Category Image">
                <p>History</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="13"></quizital-metadata>
                <img src="assets//images/category-covers/geography.jpg" alt="Category Image">
                <p>Geography</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="11"></quizital-metadata>
                <img src="assets//images/category-covers/maths.jpg" alt="Category Image">
                <p>Maths</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="10"></quizital-metadata>
                <img src="assets//images/category-covers/food.jpg" alt="Category Image">
                <p>Food</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="9"></quizital-metadata>
                <img src="assets//images/category-covers/culture.jpg" alt="Category Image">
                <p>Culture</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="7"></quizital-metadata>
                <img src="assets//images/category-covers/moviestv.jpg" alt="Category Image">
                <p>Movies & TV</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="8"></quizital-metadata>
                <img src="assets//images/category-covers/music.jpg" alt="Category Image">
                <p>Music</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="6"></quizital-metadata>
                <img src="assets//images/category-covers/pubquiz.jpg" alt="Category Image">
                <p>Pub Quiz</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="5"></quizital-metadata>
                <img src="assets//images/category-covers/generalknowledge.jpg" alt="Category Image">
                <p>General Knowledge</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="4"></quizital-metadata>
                <img src="assets//images/category-covers/science.jpg" alt="Category Image">
                <p>Science</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="14"></quizital-metadata>
                <img src="assets//images/category-covers/flags.png" alt="Category Image">
                <p>Flags</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="15"></quizital-metadata>
                <img src="assets//images/category-covers/videogames.png" alt="Category Image">
                <p>Video Games</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="16"></quizital-metadata>
                <img src="assets//images/category-covers/sports.jpg" alt="Category Image">
                <p>Sports</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="17"></quizital-metadata>
                <img src="assets//images/category-covers/guesswho.jpg" alt="Category Image">
                <p>Guess Who</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="18"></quizital-metadata>
                <img src="assets//images/category-covers/quickfire.jpg" alt="Category Image">
                <p>Quick fire</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="19"></quizital-metadata>
                <img src="assets//images/category-covers/thepriceisright.png" alt="Category Image">
                <p>The price is right</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="20"></quizital-metadata>
                <img src="assets//images/category-covers/movie-lines.png" alt="Category Image">
                <p>Movie Quotes</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="21"></quizital-metadata>
                <img src="assets//images/category-covers/harrypotter.jpg" alt="Category Image">
                <p>Harry Potter</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="22"></quizital-metadata>
                <img src="assets//images/category-covers/pastlaws.jpg" alt="Category Image">
                <p>Past Laws</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="23"></quizital-metadata>
                <img src="assets//images/category-covers/logos.jpeg" alt="Category Image">
                <p>Logos</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="24"></quizital-metadata>
                <img src="assets//images/category-covers/worldrecords.jpg" alt="Category Image">
                <p>World Records</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="25"></quizital-metadata>
                <img src="assets//images/category-covers/artquiz.jpeg" alt="Category Image">
                <p>Art</p>
            </div>
            <div class="category">
                <quizital-metadata category-id="26"></quizital-metadata>
                <img src="assets//images/category-covers/spelling.jpg" alt="Category Image">
                <p>Spelling</p>
            </div>
            <div class="category" style="display: none;" id="BETASelect122">
                <quizital-metadata category-id="beta-testing-questions"></quizital-metadata>
                <img src="assets//images/category-covers/beta.png" alt="Category Image">
                <p>[EXCLUSIVE] Beta Testing</p>
            </div>
        </div>
    </div>

    <div class="section">
        <h3>Game Mode</h3>
        <div class="game-mode">
            <div class="mode-option selected" data-mode="single">
                <strong>Single Player</strong><br>
                <small>Play solo</small>
            </div>
            <div class="mode-option" data-mode="multi">
                <strong>Multiplayer</strong><br>
                <small>Play with friends</small>
            </div>
        </div>
        
        <div class="multiplayer-options" id="multiplayerOptions">
            <div class="players-list" id="playersList">
                <div class="player-input">
                    <label>Player 1:</label>
                    <input type="text" placeholder="Enter player name" value="Player 1">
                    <button class="remove-player" onclick="removePlayer(this)" style="visibility: hidden;">Remove</button>
                </div>
                <div class="player-input">
                    <label>Player 2:</label>
                    <input type="text" placeholder="Enter player name" value="Player 2">
                    <button class="remove-player" onclick="removePlayer(this)">Remove</button>
                </div>
            </div>
            <button class="add-player" onclick="addPlayer()">Add Player</button>
        </div>
    </div>

    <div class="section">
        <h3>Quiz Settings</h3>
        <div class="input-group">
            <label for="totalQuestions">Max Questions:</label>
            <input type="number" id="totalQuestions">
        </div>
    </div>

    <button class="btn" id="startQuiz">Start Quiz</button>
</div>

<script>
    // Skip animation if ?test=true
    const params = new URLSearchParams(window.location.search);
    if (params.get("test") === "true") document.body.classList.add("no-anim");
    if (params.get("branch") === "beta") document.getElementById('BETASelect122').style.display = ''

    let playerCount = 2;

    // Handle category selection
    const categories = document.querySelectorAll('.category');
    categories.forEach(cat => {
        cat.addEventListener('click', () => {
            cat.classList.toggle('selected');
        });
    });

    // Handle game mode selection
    const modeOptions = document.querySelectorAll('.mode-option');
    const multiplayerOptions = document.getElementById('multiplayerOptions');

    modeOptions.forEach(option => {
        option.addEventListener('click', () => {
            modeOptions.forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
            
            if (option.dataset.mode === 'multi') {
                multiplayerOptions.classList.add('active');
            } else {
                multiplayerOptions.classList.remove('active');
            }
        });
    });

    // Add player function
    function addPlayer() {
        playerCount++;
        const playersList = document.getElementById('playersList');
        const playerDiv = document.createElement('div');
        playerDiv.className = 'player-input';
        playerDiv.innerHTML = `
            <label>Player ${playerCount}:</label>
            <input type="text" placeholder="Enter player name" value="Player ${playerCount}">
            <button class="remove-player" onclick="removePlayer(this)">Remove</button>
        `;
        playersList.appendChild(playerDiv);
    }

    // Remove player function
    function removePlayer(button) {
        const playerInput = button.parentElement;
        const playersList = document.getElementById('playersList');
        
        // Don't allow removing if only 2 players left
        if (playersList.children.length <= 2) {
            alert('Multiplayer requires at least 2 players!');
            return;
        }
        
        playerInput.remove();
        
        // Update labels and hide remove button for first player if only 2 left
        updatePlayerLabels();
    }

    // Update player labels
    function updatePlayerLabels() {
        const playerInputs = document.querySelectorAll('.player-input');
        playerInputs.forEach((input, index) => {
            const label = input.querySelector('label');
            const removeBtn = input.querySelector('.remove-player');
            
            label.textContent = `Player ${index + 1}:`;
            
            // Hide remove button for first player if only 2 players
            if (index === 0 && playerInputs.length <= 2) {
                removeBtn.style.visibility = 'hidden';
            } else {
                removeBtn.style.visibility = 'visible';
            }
        });
    }

    // Start Quiz button click
    document.getElementById('startQuiz').addEventListener('click', (e) => {
        e.preventDefault();
        
        // Get selected categories
        const selectedIds = Array.from(document.querySelectorAll('.category.selected'))
            .map(cat => cat.querySelector('quizital-metadata').getAttribute('category-id'));
        
        if(selectedIds.length === 0) {
            alert('Please select at least one category!');
            return;
        }

        // Build URL with parameters
        let url = 'play.html?categories=' + selectedIds.join(',');
        
        // Add total questions parameter
        const totalQuestions = document.getElementById('totalQuestions').value;
        if (totalQuestions) {
            url += '&total=' + totalQuestions;
        }
        
        // Add multiplayer parameter if multiplayer mode is selected
        const selectedMode = document.querySelector('.mode-option.selected').dataset.mode;
        if (selectedMode === 'multi') {
            const playerInputs = document.querySelectorAll('#playersList input');
            const playerNames = Array.from(playerInputs)
                .map(input => input.value.trim())
                .filter(name => name !== '');
            
            if (playerNames.length < 2) {
                alert('Please enter at least 2 player names for multiplayer!');
                return;
            }
            
            url += '&multiplayer=' + encodeURIComponent(playerNames.join(','));
        }
        
        // Navigate to play page
        window.location.href = url;
    });

    // Initialize player labels
    updatePlayerLabels();
</script>
</body>
</html>
